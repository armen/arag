var initLocations=function(a,c,b){$(a).addEvent("change",function(d){d.stop();getProvincesUrl=getProvincesBaseUrl+($(a).getProperty("value")?$(a).getProperty("value"):0);getCitiesUrl=getCitiesBaseUrl+($(c).getProperty("value")?$(c).getProperty("value"):0)+"/"+($(a).getProperty("value")?$(a).getProperty("value"):0);fetchData(getProvincesUrl,c);fetchData(getCitiesUrl,b)});$(c).addEvent("change",function(d){d.stop();getCitiesUrl=getCitiesBaseUrl+$(c).getProperty("value")+"/"+$(a).getProperty("value");fetchData(getCitiesUrl,b)})};var fetchData=function(b,a){var c=new Request.JSON({url:b,onComplete:function(d){updateSelect(d.entries,a)}}).send()};var updateSelect=function(d,c){var b=$(c+"_container");if(d.length){var a=$(c);a.empty();d.each(function(e){new Element("option",{value:e.key,html:e.value}).inject(a)});b.appendChild(a);new Fx.Slide(b).slideIn()}else{$(c).setProperty("value",0);new Fx.Slide(b).slideOut()}};